(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),l=(a(9),a(1));function i(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search...",onChange:function(e){return o(e.target.value)},value:c,onKeyUp:function(t){if("Enter"===t.key){var a=new URL(e.api.url);a.search=new URLSearchParams({q:c,units:"metric",APPID:e.api.key}),fetch(a).then((function(e){return e.json()})).then((function(t){e.setWeather(t),o(""),console.log(t)}))}}}))}function s(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"location-box"},e.weather.name?r.a.createElement("div",{className:"location"},e.weather.name,", ",e.weather.sys.country):""))}function m(){return r.a.createElement("div",{className:"date"},(new Date).toLocaleString("en-GB",{dateStyle:"full"}))}function u(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"temp"},e.temp,"\xb0C"))}function h(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"weather"},e.type.main,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.type.icon,"@2x.png"),alt:"Weather icon"})))}function d(e){return r.a.createElement(n.Fragment,null,"404"===e.weather.cod?r.a.createElement("div",{className:"error-box"},r.a.createElement("div",{className:"error"},e.weather.message)):"")}function f(e){}var p={key:"79313e325d1f563d35fc3c61b805604a",url:"https://api.openweathermap.org/data/2.5/weather"};var w=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){o()}),[]),Object(n.useEffect)((function(){return console.log(a)}));var o=function(){navigator.geolocation.getCurrentPosition((function(e){var t=new URL(p.url);t.search=new URLSearchParams({lat:e.coords.latitude,lon:e.coords.longitude,units:"metric",APPID:p.key}),fetch(t).then((function(e){return e.json()})).then((function(e){c(e)}))}))};return r.a.createElement("div",{className:a.main?"app ".concat(a.weather[0].main.toLowerCase()):"app"},r.a.createElement("main",null,r.a.createElement(i,{api:p,setWeather:c}),r.a.createElement(s,{weather:a}),r.a.createElement(m,null),a.main?r.a.createElement("div",{className:"weather-box"},r.a.createElement(u,{temp:Math.round(a.main.temp)}),r.a.createElement(h,{type:a.weather[0]})):a.cod?"":r.a.createElement(f,{message:"Please enable location tracking or use the search bar above"}),r.a.createElement(d,{weather:a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){e.exports=a(10)},9:function(e,t,a){}},[[4,1,2]]]);
//# sourceMappingURL=main.01ea23de.chunk.js.map